<!DOCTYPE html>
<html lang="en">
	<head>
	 	<meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Quicklaunch Options</title>

		<link href="styles/bootstrap.min.css" rel="stylesheet">
		<link href="styles/app.css" rel="stylesheet">
	</head>
	<body ng-app="app">
		<div ng-controller="optionsCtrl" class="container">  
			
			<div class="btn-group pull-right small-top-vertical-margin">
				 <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span>
				</button>

				<ul class="dropdown-menu">
			 		<li>
			 			<a href="#" data-toggle="modal" data-target=".bs-export-modal-lg">Export suggestions</a>
			 		</li>
			    	<li>
			    		<a href="#" data-toggle="modal" data-target=".bs-import-modal-lg">Import suggestions</a>
			    	</li>
			 	</ul>
			</div>

			<ul class="nav nav-tabs small-top-vertical-margin" role="tablist">
				<li role="presentation"  ng-class="{active: currentTab == 'tabItems'}">
					<a href="#" aria-controls="suggestions" role="tab" data-toggle="tab" ng-click="currentTab = 'tabItems'">Suggestions</a>
				</li>
				<li role="presentation"  ng-class="{active: currentTab == 'tabHelp'}">
					<a aria-controls="help" role="tab" data-toggle="tab" href="#" ng-click="currentTab = 'tabHelp'">Help</a>
				</li>
			</ul>

			<div class="tab-content small-top-vertical-margin">
				<div class="tab-pane" role="tabpanel" id="suggestions" ng-class="{active: currentTab == 'tabItems'}">
					
					<div class="row">
						<div class="col-xs-6">
							<input class="form-control" type="text" ng-model="newItem.uri" placeholder="Uri"/>
						</div>
						 <div class="col-xs-5">
							<input class="form-control" type="text" ng-model="newItem.tags" placeholder="Tags (space separator)" />
						</div>
						<div class="col-xs-1">
							<button ng-click="ql.suggestions.add(newItem);clearInput(newItem)" class="btn btn-primary pull-right">Add</button>
						</div>
					</div>

					<div class="small-vertical-margin clearfix"></div>

					<div class="row">
						<div class="col-xs-12">
							<input class="form-control" type="text" ng-model="q" placeholder="Search"/>
						</div>
					</div>
					
					<div class="list-group small-vertical-margin">
						<div ng-repeat="suggestion in ql.suggestions.all | filter:q track by ql.identity(suggestion)" class="list-group-item">
							<div class="row" ng-init="currentMode = 'view'">
								<div ng-switch="currentMode">

									<div ng-switch-when="edit">

										<div class="col-xs-6"><input class="form-control" type="text" ng-model="suggestion.uri" placeholder="Uri" /></div>
										<div class="col-xs-5"><input class="form-control" type="text" ng-model="suggestion.tags" placeholder="Tag" /></div>
										<div class="col-xs-1">
											<button ng-click="ql.suggestions.save();$parent.currentMode = 'view'" class="btn btn-success pull-right">Save</button>
										</div>

									</div>
									<div ng-switch-when="view">

										<div class="col-xs-6">{{suggestion.uri}}</div>
										<div class="col-xs-4">
											<div tags source="suggestion.tags" right="false"></div>
										</div>
										<div class="col-xs-1">
											<button ng-click="$parent.currentMode = 'edit'" class="btn btn-primary pull-right">Edit</button>
										</div>
										<div class="col-xs-1">
											<button ng-click="ql.suggestions.remove(suggestion)" class="btn btn-danger pull-right">Delete</button>
										</div>

									</div>

								</div>
							</div>
						</div>
						<div class="no-items text-center">
					     	<b>No suggestion yet :(</b>
					    </div>
					</div>
					<div class="modal fade bs-export-modal-lg" tabindex="-1" role="dialog">
						<div class="modal-dialog modal-lg">
							<div class="modal-content">
								<div class="form-group">
									<textarea class="form-control medium-height" ng-readonly="true">{{ql.suggestions.exportAll()}}</textarea>
								</div>
							</div>
						</div>
					</div>
					<div class="modal fade bs-import-modal-lg" tabindex="-1" role="dialog">
						<div class="modal-dialog modal-lg">
							<div class="modal-content">
								<div class="modal-body">
									<div class="form-group">
										<textarea placeholder="[{uri: 'http://myuri.tld',tags: 'tag1 tag2'}]" class="form-control medium-height" ng-model="importInput" ng-readonly="false" ></textarea>
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
									<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="ql.suggestions.importAll(importInput)">Import</button>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="tab-pane" role="tabpanel" id="help" ng-class="{active: currentTab == 'tabHelp'}">
					<h2>Usage:</h2>
					<div class="row">
						<div class="col-xs-12">
						To begin, press Ctrl+Shift+F to display the quicklaunch search bar. Now you can start typing some tags to display a list of filtered uri. After that, use the arrow keys in order to quickly navigate through the list of suggestions and the enter key to select a suggestion.
						</div>
					</div>
					<div class="row">
						<img class="col-xs-offset-1 col-xs-10 small-vertical-margin" src="/img/demo.gif" />
					</div>
					<div class="row">
						<div class="col-xs-12">
						But how can I manage my suggestions? Go to the options page or use directly the quicklaunch search bar and the special commands.
						</div>
					</div>
					<h2>Special commands:</h2>
					<div class="row small-vertical-margin">
						<div class="col-xs-3">
							<b>:qs=[PARAMS]</b>
						</div>
						<div class="col-xs-9">
							Open the selected suggestion and append the query string to the uri.
						</div>
					</div>
					<div class="row small-vertical-margin">
						<div class="col-xs-3">
							<b>:priv</b>
						</div>
						<div class="col-xs-9">
							Open the selected suggestion in a new private tab.
						</div>
					</div>
					<div class="row small-vertical-margin">
						<div class="col-xs-3">
							<b>:edit [OPTIONAL TAGS]</b>
						</div>
						<div class="col-xs-9">
							Open the options page and show the suggestions tab with a filter. By default, the filter is the uri of the current tab. You can also select a custom suggestion to edit by specifying tags.
						</div>
					</div>
					<div class="row small-vertical-margin">
						<div class="col-xs-3">
							<b>:add [TAGS]</b>
						</div>
						<div class="col-xs-9">
							Add the uri of the current tab as a suggestion with the tags passed in parameters.
						</div>
					</div>
					<div class="row small-vertical-margin">
						<div class="col-xs-3">
							<b>:settings</b>
						</div>
						<div class="col-xs-9">
							Open the options page and show the suggestions tab.
						</div>
					</div>
					<div class="row small-vertical-margin">
						<div class="col-xs-3">
							<b>:help</b>
						</div>
						<div class="col-xs-9">
							Open the options page and show the help tab.
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="scripts/vendors/jquery.min.js"></script>
		<script type="text/javascript" src="scripts/vendors/bootstrap.min.js"></script>
		<script type="text/javascript" src="scripts/vendors/angular.min.js"></script>
		<script type="text/javascript" src="scripts/all.js"></script>
	</body>
</html>